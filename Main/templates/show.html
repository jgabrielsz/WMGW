{% extends 'base_home.html' %}

{% block content %}
    {% if categorie %}
    <h2 class="categorie text-center pb-3">{{categorie}}</h2>
    {% endif %}

    {% if movies %}
        <div class="container-movies-grid">
            {% for movie in movies %}
                <div class="movie-box">
                    <a href="/movie/{{movie.id}}" class="poster">
                        <img src="../../static/posters/{{movie['id']}}.jpg" onerror="this.onerror=null; this.src='../../static/poster_not_found.jpg'" alt="poster">                
                        <div class="title">{{movie['title']}}</div>
                        {% if watchlist %}
                            <form action="/remove_to_list" method="post">
                                <input type="hidden" name="id" value="{{movie['id']}}">
                                <button class="trash-icon" type="submit">
                                    <img src="../../static/imgs/trash.png" alt="trash" title="Delete Movie From Watchlist">
                                </button>
                            </form>
                        {% endif %}
                    </a>
                </div>
            {% endfor %}
        </div>

        {% if part %}
            <div class="container paginator">
                {% if part != 1 %}
                    <a href="/more/{{categorie}}/{{part-1}}" class="btn btn-warning">
                        <strong>&#60;</strong>
                    </a>
                {% endif %}
                
                {% if max >= part %}
                    <span class="text-warning px-2"><strong>Page {{part}} of {{max}}</strong></span>
                {% endif %}
                
                {% if part != max %}                    
                    <a href="/more/{{categorie}}/{{part+1}}" class="btn btn-warning">
                        <strong>&#62;</strong>
                    </a>
                {% endif %}
            </div>
        {% endif %}
    {% endif %}

{% endblock %}